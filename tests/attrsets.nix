# ============================================================================ #
#
# General tests for `libattrs' routines.
#
# ---------------------------------------------------------------------------- #

{ lib }: let

# ---------------------------------------------------------------------------- #

  tests = {

# ---------------------------------------------------------------------------- #

    testEachSystemMap = {
      expr     = lib.eachSystemMap ["a" "b"] ( system: system + "-0" );
      expected = { a = "a-0"; b = "b-0"; };
    };


# ---------------------------------------------------------------------------- #

    testPushDownNames = {
      expr = lib.libattrs.pushDownNames {
        foo = { x = 1; };
        bar = { y = 2; };
      };
      expected = {
        foo = { name = "foo"; x = 1; };
        bar = { name = "bar"; y = 2; };
      };
    };

    testAttrsToList = {
      expr     = lib.attrsToList { foo = 1; bar = 2; };
      expected = [{ name = "bar"; value = 2; } { name = "foo"; value = 1; }];
    };


# ---------------------------------------------------------------------------- #

    testJoinAttrs_set = {
      expr     = lib.joinAttrs { foo = { x = 1; }; bar = { y = 2; z = 3; }; };
      expected = { x = 1; y = 2; z = 3; };
    };

    testJoinAttrs_list = {
      expr     = lib.joinAttrs [{ x = 1; } { y = 2; z = 3; }];
      expected = { x = 1; y = 2; z = 3; };
    };


# ---------------------------------------------------------------------------- #

  };  # End Tests


# ---------------------------------------------------------------------------- #

in tests


# ---------------------------------------------------------------------------- #
#
#
#
# ============================================================================ #
